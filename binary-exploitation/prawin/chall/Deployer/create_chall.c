#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <time.h>

// gcc -fno-stack-protector -Wl,-z,norelro -no-pie -z execstack chall.c -o chall

void init(){
    setvbuf(stdin, NULL, _IONBF, 0);
    setvbuf(stdout, NULL, _IONBF, 0);
    setvbuf(stderr, NULL, _IONBF, 0);
}

void logolest(){
	puts("");
    puts("██╗     ███████╗███████╗████████╗    ██████╗  ██████╗ ██████╗ ██╗  ██╗");
    puts("██║     ██╔════╝██╔════╝╚══██╔══╝    ╚════██╗██╔═████╗╚════██╗██║  ██║");
    puts("██║     █████╗  ███████╗   ██║        █████╔╝██║██╔██║ █████╔╝███████║");
    puts("██║     ██╔══╝  ╚════██║   ██║       ██╔═══╝ ████╔╝██║██╔═══╝ ╚════██║");
    puts("███████╗███████╗███████║   ██║       ███████╗╚██████╔╝███████╗     ██║");
    puts("╚══════╝╚══════╝╚══════╝   ╚═╝       ╚══════╝ ╚═════╝ ╚══════╝     ╚═╝");
    puts("                          prawin");
    puts("");
}

void a() {
    asm(
        "popq %rdx;"
        "ret;"
    );
}

void admin_login(int param1, int param2, int param3){
    if (param1 == 0xdeaddead && param2 == 0xc0debabe && param3 == 0xfeedbeef){
        puts("Hi admin!");
        system("/bin/sh");
    }
    else{
        char name[50];
        puts("Hello there, can i know your name??");
        scanf("%49s", name);
        printf("Hello %s\n", name);
        puts("Happy to know you!");
        printf(".");
        sleep(1);
        exit(0);
    }
}

void prawin(){
    char buffer[80];
    puts("Try to login as admin.");
    puts("Simple, just guess the admin username!");
    printf("$ ");
    fgets(buffer, 160, stdin);
    puts("You failed to login as admin :(");
}

int main(void){
    init();
    logolest();
    prawin();
    return 0;
}